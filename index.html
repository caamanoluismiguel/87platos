<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Vuelta a Santander en 87 Platos</title>
    <style>
        :root {
            --verde: #1a5e3a; /* Color institucional */
            --amarillo: #f4b400; /* Color de acci칩n */
            --blanco: #ffffff;
            --fondo: #f8f9fa;
        }

        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--fondo); color: #333; }

        /* HEADER & LOGO */
        .header { background: var(--blanco); padding: 25px; text-align: center; border-bottom: 5px solid var(--verde); box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .logo { max-width: 200px; height: auto; }

        /* SECCI칍N MAPA INTERACTIVO */
        .map-section { max-width: 900px; margin: 30px auto; padding: 20px; background: white; border-radius: 25px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
        #svg-container { width: 100%; height: auto; overflow: hidden; }
        #svg-container path { cursor: pointer; transition: 0.3s; fill: var(--verde) !important; stroke: #fff; stroke-width: 0.5; }
        #svg-container path:hover { fill: var(--amarillo) !important; }

        /* LISTADO DE 87 MUNICIPIOS VISIBLES */
        .explorer-container { max-width: 1200px; margin: 40px auto; padding: 0 20px; }
        .municipios-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 15px; }
        .muni-card { 
            background: white; border-radius: 12px; padding: 15px; text-align: center; 
            border: 2px solid #eee; transition: 0.3s; cursor: pointer; font-weight: bold; color: var(--verde);
        }
        .muni-card:hover { border-color: var(--amarillo); transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }

        /* MODAL GASTRON칍MICO TOTAL */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 9999; align-items: center; justify-content: center; padding: 20px; backdrop-filter: blur(5px); }
        .modal-content { background: white; width: 100%; max-width: 500px; border-radius: 30px; padding: 35px; text-align: center; position: relative; border-top: 10px solid var(--amarillo); }
        .close-btn { position: absolute; right: 25px; top: 15px; font-size: 32px; cursor: pointer; color: #999; font-weight: bold; }
        .close-btn:hover { color: var(--verde); }
        .plato-foto { width: 100%; height: 220px; background: #eee; border-radius: 20px; object-fit: cover; margin-bottom: 20px; }
        .btn-ruta { 
            background: var(--amarillo); color: white; padding: 18px 35px; border-radius: 50px; 
            text-decoration: none; font-weight: bold; display: inline-block; margin-top: 25px;
            box-shadow: 0 8px 15px rgba(244,180,0,0.3); transition: 0.3s;
        }
        .btn-ruta:hover { transform: scale(1.05); background: #d39e00; }

        /* ALIADOS */
        .footer { background: white; padding: 50px; text-align: center; border-top: 1px solid #ddd; margin-top: 60px; }
        .sponsor-list { display: flex; justify-content: center; gap: 40px; flex-wrap: wrap; opacity: 0.6; }
        .sponsor { font-size: 0.8rem; font-weight: bold; color: var(--verde); letter-spacing: 1px; }
    </style>
</head>
<body>

    <header class="header">
        <img src="130100.jpg" alt="Logo La Vuelta a Santander" class="logo">
    </header>

    <main class="map-section">
        <h2 style="color: var(--verde)">Mapa Pol칤tico Interactivo</h2>
        <p>Toca un municipio para ver su plato t칤pico y ruta</p>
        <div id="svg-container">
            <svg viewBox="0 0 100 100" style="width:100px; height:100px;"><rect width="100" height="100" fill="#eee"/><text x="10" y="50" font-size="10">PEGA EL SVG AQU칈</text></svg>
        </div>
    </main>

    <div class="explorer-container">
        <div class="municipios-grid" id="mainGrid"></div>
    </div>

    <div class="modal" id="infoModal">
        <div class="modal-content">
            <span class="close-btn" id="closeX">&times;</span>
            <div id="modalBody"></div>
        </div>
    </div>

    <footer class="footer">
        <p style="margin-bottom: 25px; font-size: 0.75rem; color: #999;">UNA RUTA EQUIPADA POR:</p>
        <div class="sponsor-list">
            <span class="sponsor">CHEVROLET CAMPESA</span>
            <span class="sponsor">DROGUER칈A ALEMANA</span>
            <span class="sponsor">HOLIDAY INN</span>
            <span class="sponsor">COTELCO SANTANDER</span>
        </div>
    </footer>

    <script>
        // BASE DE DATOS DE LOS 87 MUNICIPIOS
        const municipios = [
            "Aguada", "Albania", "Aratoca", "Barbosa", "Barichara", "Barrancabermeja", "Betulia", "Bol칤var", "Bucaramanga", 
            "Cabrera", "California", "Capitanejo", "Carcas칤", "Cepit치", "Cerrito", "Charal치", "Charta", "Chima", "Chipat치", 
            "Cimitarra", "Concepci칩n", "Confines", "Contrataci칩n", "Coromoro", "Curit칤", "El Carmen de Chucur칤", "El Guacamayo", 
            "El Pe침칩n", "El Play칩n", "Encino", "Enciso", "Flori치n", "Floridablanca", "Gal치n", "G치mbita", "Gir칩n", "Guaca", 
            "Guadalupe", "Guapot치", "Guavat치", "G칲epsa", "Hato", "Jes칰s Mar칤a", "Jord치n", "La Belleza", "La Paz", "Land치zuri", 
            "Lebrija", "Los Santos", "Macaravita", "M치laga", "Matanza", "Mogotes", "Molagavita", "Ocamonte", "Oiba", "Onzaga", 
            "Palmar", "Palmas del Socorro", "P치ramo", "Piedecuesta", "Pinchote", "Puente Nacional", "Puerto Parra", 
            "Puerto Wilches", "Rionegro", "Sabana de Torres", "San Andr칠s", "San Benito", "San Gil", "San Joaqu칤n", 
            "San Jos칠 de Miranda", "San Miguel", "San Vicente de Chucur칤", "Santa B치rbara", "Santa Helena del Op칩n", 
            "Simacota", "Socorro", "Suaita", "Sucre", "Surat치", "Tona", "Valle de San Jos칠", "V칠lez", "Vetas", 
            "Villanueva", "Zapatoca"
        ].sort();

        const grid = document.getElementById('mainGrid');
        const modal = document.getElementById('infoModal');

        // Renderizado del listado visual de los 87
        municipios.forEach(m => {
            const card = document.createElement('div');
            card.className = 'muni-card';
            card.innerText = m;
            card.onclick = () => openM(m);
            grid.appendChild(card);
        });

        // FUNCI칍N PARA ABRIR DETALLE
        function openM(name) {
            const body = document.getElementById('modalBody');
            // Link de Google Maps sin API: Origen autom치tico a Destino
            const mapsUrl = `https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(name + ', Santander, Colombia')}`;
            
            body.innerHTML = `
                <h2 style="color:var(--verde); margin-bottom:5px;">${name}</h2>
                <div class="plato-foto"></div> <h3 style="color:var(--amarillo); margin:10px 0;">Plato Estrella: Por Descubrir</h3>
                <p style="font-size:0.95rem; line-height:1.5;">Conoce la historia y el sabor de este municipio en la ruta de <strong>El Cuchar칩n Viajero</strong>.</p>
                <div style="background:#f9f9f9; padding:15px; border-radius:15px; margin:20px 0;">
                    <p style="font-size:0.8rem;">Llega seguro en tu <strong>Chevrolet de Campesa</strong>.</p>
                </div>
                <a href="${mapsUrl}" target="_blank" class="btn-ruta">INICIAR RUTA DESDE MI UBICACI칍N 游늸</a>
            `;
            modal.style.display = 'flex';
        }

        // CERRAR MODAL REPARADO
        document.getElementById('closeX').onclick = () => modal.style.display = 'none';
        window.onclick = (event) => { if (event.target == modal) modal.style.display = 'none'; };

        // SOLUCI칍N AL CLIC DEL MAPA (Delegaci칩n de eventos)
        document.getElementById('svg-container').addEventListener('click', function(e) {
            const path = e.target.closest('path');
            if (path) {
                // Buscamos el nombre en <title> o en el atributo 'title'
                const titleElement = path.querySelector('title');
                const name = titleElement ? titleElement.textContent.trim() : path.getAttribute('title');
                if (name) openM(name);
            }
        });
    </script>
</body>
</html>
